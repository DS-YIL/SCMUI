<div *ngIf="hivalue" style="margin-bottom: 10%;">
  <div class="" style="text-align:center">
    <h3>Purchase Authorization Details</h3>
  </div>
  <div class="row form-control" style="height:100%;border-radius:0px;padding:30px">
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label for="docNo" class="form-label">MPR Number:</label> &nbsp;
      <input class="form-control" type="text" [(ngModel)]="padetails.DocumentNumber">
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label for="SaleOrderNo" class="form-label">MPR RevisionID:</label> &nbsp;
      <input class="form-control" [(ngModel)]="padetails.RevisionID">
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label class="form-label">RfqNo:</label> &nbsp;
      <input class="form-control" [(ngModel)]="padetails.RFQNo">
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label class="form-label">SaleOrderNumber:</label>&nbsp;
      <input class="form-control" [(ngModel)]="padetails.SaleOrderNo">
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label class="form-label">Department:</label>&nbsp;
      <div class="form-inline-list">
        <input type="text" [(ngModel)]="padetails.DepartmentName" class="form-control" [ngClass]="{ 'is-invalid':Departmentsubmittted && !padetails.DepartmentName }" (keyup)="bindSearchListData($event,'','DepartmentId',padetails.DepartmentName,undefined)">
        <span class="input-group-append">
          <button type="button" class="btn btn-outline-secondary form-control" style="cursor:pointer" pButton icon="fa fa-list" aria-hidden="true" (click)="bindSearchListData($event,'','DepartmentId','',undefined)"></button>
        </span>
        <span *ngIf="Departmentsubmittted && !padetails.DepartmentName" class="invalid-feedback">Select Department.</span>
      </div>
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label class="form-label">VendorName:</label>&nbsp;
      <div class="form-inline-list">
        <input type="text" [(ngModel)]="vendorDetails.VendorName" class="form-control" [ngClass]="{ 'is-invalid':vendorSubmitted && !vendorDetails.VendorName }" (keyup)="bindSearchListData($event,'','venderid',vendorDetails.VendorName,undefined)">
        <span class="input-group-append">
          <button type="button" class="btn btn-outline-secondary form-control" style="cursor:pointer" pButton icon="fa fa-list" aria-hidden="true" (click)="bindSearchListData($event,'','venderid','',undefined)"></button>
        </span>
        <span *ngIf="vendorSubmitted && !vendorDetails.VendorName" class="invalid-feedback">Select Vendor.</span>
      </div>
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label class="form-label">BuyerGroup:</label>&nbsp;
      <div class="form-inline-list">
        <input type="text" [(ngModel)]="buyergroups.BuyerGroup" class="form-control" [ngClass]="{ 'is-invalid':MPRForm1Submitted && !buyergroups.BuyerGroup }" (keyup)="bindSearchListData($event,'','BuyerGroupId',buyergroups.BuyerGroup,undefined)">
        <span class="input-group-append">
          <button type="button" class="btn btn-outline-secondary form-control" style="cursor:pointer" pButton icon="fa fa-list" aria-hidden="true" (click)="bindSearchListData($event,'','BuyerGroupId','',undefined)"></button>
        </span>
        <span *ngIf="MPRForm1Submitted && !buyergroups.BuyerGroup" class="invalid-feedback">Select BuyerGroup.</span>
      </div>
    </div>

  </div><br />
  <div class="row" style="margin-bottom:10px">
    <div class="col-md-12" style="text-align:center">
      <button type="button" class="btn btn-primary" (click)="displayitems(padetails)">Submit</button>
    </div>
  </div>
  <div class="row form-control"  style="height:100%;border-radius:0px;padding:30px;">
    <p-table [value]="paitemdetails" [paginator]="true" [rows]="10"  [resizableColumns]="true" p columnResizeMode="expand" selectionMode="multiple" [(selection)]="selectedItems">
      <ng-template pTemplate="header">
        <tr class="text-left" style="text-align:left">
          <!--<th> <p-checkbox [value]="rowData" [(ngModel)]="paitemdetails.selectAll" (click)="selectAll($event)"></p-checkbox> CheckAll</th>-->
          <th style="width: 3em"><p-tableHeaderCheckbox></p-tableHeaderCheckbox></th>
          <th style="width: 5em">Sl No</th>
          <th>Item Description</th>
          <th style="width: 6em">Quantity</th>
          <th>Vendor Name</th>
          <th>MPR NO</th>
          <th>TargetSpend</th>
          <th style="width:6em">Price</th>
          <th>SaleOrder</th>
          <th>PaymentTerm</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-columns="columns" let-ri="rowIndex" let-rindex=0 >
        <tr>
          <td>
            <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
            <!--<input type="checkbox" (change)="onChange(rowData,$event.target.checked)">-->
            <!--<p-tableCheckbox [value]="rowData"></p-tableCheckbox>-->
          </td>
          <td class="text-center">{{ri+1}}</td>
          <td>{{rowData.ItemDescription}}</td>
          <td>{{rowData.QuotationQty}}</td>
          <td>{{rowData.VendorName}}</td>
          <td>{{rowData.DocumentNo}}</td>
          <td>{{rowData.TargetSpend}}</td>
          <td>{{rowData.UnitPrice}}</td>
          <td>{{rowData.SaleOrderNo}}</td>
          <td>{{rowData.PaymentTermCode}}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  <div class="row" style="margin-top:10px">
    <div class="col-md-12" style="text-align:center">
      <button type="button" class="btn btn-success" (click)="displayapproveitems()">Submit</button>
    </div>
  </div>
  <p-dialog #dialog header="List View :" [(visible)]="showList"  [contentStyle]="{'overflow':'visible'}">
    <div class="ui-g ui-fluid">
      <p-listbox [options]="searchItems" [(ngModel)]="selectedItem" optionLabel="name" (onChange)="onSelectedOptionsChange(selectedItem,null)"></p-listbox>
    </div>
    <p-footer>
      <div class="ui-dialog-buttonpane ui-helper-clearfix">
        <button type="button" pButton icon="fa fa-close" (click)="dialogCancel('showList')" label="Cancel"></button>
      </div>
    </p-footer>
  </p-dialog>
</div>

<div *ngIf="approvevalue" style="margin-bottom: 10%;">
  <p-table  [value]="selectedItems" [paginator]="true" [rows]="10"  [resizableColumns]="true" p columnResizeMode="expand" selectionMode="multiple" [(selection)]="selectedItems">
    <ng-template pTemplate="header">
      <tr class="text-left">
        <th style="width: 5em">Sl No</th>
        <th>Item Description</th>
        <th style="width: 7em">Quantity</th>
        <th>Vendor Name</th>
        <th>MPR NO</th>
        <th>TargetSpend</th>
        <th style="width:6em">Price</th>
        <th>SaleOrder</th>
        <th>PaymentTerm</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-ri="rowIndex" let-rindex=0>
      <tr>
        <td class="text-center">{{ri+1}}</td>
        <td>{{rowData.ItemDescription}}</td>
        <td>{{rowData.QuotationQty}}</td>
        <td>{{rowData.VendorName}}</td>
        <td>{{rowData.DocumentNo}}</td>
        <td>{{rowData.TargetSpend}}</td>
        <td>{{rowData.UnitPrice}}</td>
        <td>{{rowData.SaleOrderNo}}</td>
        <td>{{rowData.PaymentTermCode}}</td>
      </tr>
    </ng-template>
  </p-table>
  <div class="form-group" style="margin-top:10px;margin-left:17px">
      <div class="row form-inline">
        <label class="form-label" *ngFor="let List of employee">Assigned Employee:&nbsp;{{List.Name}}</label>
      </div>
    <!--<label class="form-label col-md-3">Assigned Employee:{{paitem.Name}}</label> &nbsp;-->
  </div>
</div>
