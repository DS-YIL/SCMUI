<div style="text-align:center">
  <h3>Purchase Authorization</h3>
</div>

<div class="form-control" style="height:100%;width:100%">
  <div class="row">
    <div class="col-md-6 col-lg-6 col-sm-6">
      <div class="form-group" *ngIf="!pasubmitted && !paincompleted" style="margin-top:5px">
        <label for="BuyerGroup" class="form-label label" style="margin-left: 12px;">BuyerGroup:</label>&nbsp;&nbsp;
        <input type="text" disabled="true" class="form-control" style="margin-left: 12px;width:60%;" [value]="Buyergroup">
      </div>
      <div *ngIf="pasubmitted" style="margin-top:5px" class="col-lg-12 col-md-12 col-sm-12 form-group">
        <label for="BuyerGroup" class="form-label lblEdit" style="margin-left: 0px;">BuyerGroup:</label>
        <span class="valueEdit"> {{purchasedetails.buyergroup.BuyerGroup}}</span>
      </div>
      <div *ngIf="paincompleted" style="margin-top:5px" class="col-lg-8 col-md-8 col-sm-8 form-group">
        <label for="BuyerGroup" class="form-label lblEdit" style="margin-left: 0px;">BuyerGroup:</label>
        <span class="valueEdit"> {{purchasedetails.buyergroup.BuyerGroup}}</span>
      </div>
    </div>
    <div class="col-md-6 col-lg-6 col-sm-6">
      <div class="form-group" *ngIf="!pasubmitted && !paincompleted" style="margin-top:5px">
        <label for="Department" class="form-label label" style="margin-left: 12px;">Department:</label>&nbsp;&nbsp;
        <input type="text" disabled="true" class="form-control" style="margin-left: 12px;width:60%;" [value]="Department">
      </div>
      <div *ngIf="pasubmitted" style="margin-top:5px" class="col-lg-8 col-md-8 col-sm-8 form-group">
        <label for="DepartMent" class="form-label lblEdit" style="margin-left: 0px;">DepartMent:</label>
        <span class="valueEdit"> {{purchasedetails.department.Department}}</span>
      </div>
      <div *ngIf="paincompleted" style="margin-top:5px" class="col-lg-8 col-md-8 col-sm-8 form-group">
        <label for="DepartMent" class="form-label lblEdit" style="margin-left: 0px;">DepartMent:</label>
        <span class="valueEdit"> {{purchasedetails.department.Department}}</span>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 col-lg-6 col-sm-6">
      <div class="form-group" *ngIf="!pasubmitted && !paincompleted">
        <label for="Purchasetype" class="form-label label" style="margin-left: 12px;">Purchase Type:<span class="required-asterisk" style="color:red">*</span></label>
        <select class="form-control" [(ngModel)]="purchasedetails.PurchaseTypeId" style="margin-left: 12px;width:60%">
          <option *ngFor="let pty of purchasetypes" [value]="pty.PurchaseTypeId"> {{pty.PurchaseType}} </option>
        </select>
      </div>
      <div *ngIf="pasubmitted" style="margin-top:5px" class="col-lg-8 col-md-8 col-sm-8 form-group">
        <label for="Purchasetype" class="form-label lblEdit" style="margin-left: 0px;">Purchase Type:</label>
        <span class="valueEdit"> {{purchasedetails.purchasetypes.PurchaseType}}</span>
      </div>
      <div class="form-group" *ngIf="paincompleted">
        <label for="Purchasetype" class="form-label label" style="margin-left: 12px;">Purchase Type:<span class="required-asterisk" style="color:red">*</span></label>
        <select class="form-control" [(ngModel)]="purchasedetails.PurchaseTypeId" style="margin-left: 12px;width:60%">
          <option *ngFor="let pty of purchasetypes" [value]="pty.PurchaseTypeId"> {{purchasedetails.purchasetypes.PurchaseType}} </option>
        </select>
      </div>
    </div>
    <div class="col-md-6 col-lg-6 col-sm-6">
      <div class="form-group" *ngIf="!pasubmitted && !paincompleted">
        <label for="PurchaseMode" class="form-label label" style="margin-left: 12px;">Purchase Mode:<span class="required-asterisk" style="color:red">*</span></label>&nbsp;&nbsp;
        <select [(ngModel)]="purchasedetails.PurchaseModeId" class="form-control" style="margin-left: 12px;width:60%">
          <option *ngFor="let pur of purchasemodes" [value]="pur.PurchaseModeId"> {{pur.PurchaseMode}} </option>
        </select>
      </div>
      <div *ngIf="pasubmitted" style="margin-top:5px" class="col-lg-8 col-md-8 col-sm-8 form-group">
        <label for="Purchasemode" class="form-label lblEdit" style="margin-left: 0px;">Purchase Mode:</label>
        <span class="valueEdit"> {{purchasedetails.purchasemodes.PurchaseMode}}</span>
      </div>
      <div class="form-group" *ngIf="paincompleted">
        <label for="PurchaseMode" class="form-label label" style="margin-left: 12px;">Purchase Mode:<span class="required-asterisk" style="color:red">*</span></label>&nbsp;&nbsp;
        <select [(ngModel)]="purchasedetails.PurchaseModeId" class="form-control" style="margin-left: 12px;width:60%">
          <option *ngFor="let pur of purchasemodes" [value]="pur.PurchaseModeId"> {{purchasedetails.purchasemodes.PurchaseMode}} </option>
        </select>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 col-lg-6 col-sm-6">
      <div class="form-group" *ngIf="!pasubmitted && !paincompleted">
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Project Name:</label>&nbsp;&nbsp;&nbsp;
        <input type="text" disabled="true" [value]="purchasedetails.ProjectName" class="form-control" style="margin-left: 12px;width:60%" />
      </div>
      <div *ngIf="pasubmitted" style="margin-top:5px" class="col-lg-8 col-md-8 col-sm-8 form-group">
        <label for="ProjectName" class="form-label lblEdit" style="margin-left: 0px;">Project Name:</label>
        <span class="valueEdit"> {{purchasedetails.ProjectName}}</span>
      </div>
      <div *ngIf="paincompleted" style="margin-top:5px" class="col-lg-8 col-md-8 col-sm-8 form-group">
        <label for="ProjectName" class="form-label lblEdit" style="margin-left: 0px;">Project Name:</label>
        <span class="valueEdit"> {{purchasedetails.ProjectName}}</span>
      </div>
    </div>
    <div class="col-md-6 col-lg-6 col-sm-6">
      <div class="form-group" *ngIf="!pasubmitted && !paincompleted">
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Project Code:</label>
        <input type="text" disabled="true" [value]="purchasedetails.ProjectCode" class="form-control" style="margin-left: 12px;width:60%" />
      </div>
      <div *ngIf="pasubmitted" style="margin-top:5px" class="col-lg-8 col-md-8 col-sm-8 form-group">
        <label for="ProjectCode" class="form-label lblEdit" style="margin-left: 0px;">Project Code:</label>
        <span class="valueEdit"> {{purchasedetails.ProjectCode}}</span>
      </div>
      <div *ngIf="paincompleted" style="margin-top:5px" class="col-lg-8 col-md-8 col-sm-8 form-group">
        <label for="ProjectCode" class="form-label lblEdit" style="margin-left: 0px;">Project Code:</label>
        <span class="valueEdit"> {{purchasedetails.ProjectCode}}</span>
      </div>
    </div>
  </div>
</div>
<br />
<div class="form-control" style="width:100%;height:100%">
  <h6>Budget Details :</h6>&nbsp;&nbsp;
  <div class="row">
    <div class="settings" *ngIf="!pasubmitted && !paincompleted" style="grid-gap:10px;display:grid;grid-template-columns:max-content max-content">
      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Target Spend</label>
      <span class="Supplier">: {{target | currency:'INR' || ""}}</span>

      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Sales Cost For The Job</label>
      <span class="Supplier"></span>

      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Purchase Cost For This Item</label>
      <span class="Supplier">: {{sum | currency:'INR'}}</span>

      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Project Cost For The Job</label>
      <span class="Supplier">: {{purchasedetails.SupplierReference}}</span>

      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Excess/Saving From Project Budget</label>
      <span class="Supplier" *ngIf="target>=sum" style="color:green">: {{savingorexcessamount| currency:'INR'}} <span style="color:green;padding:35px">Total purchase cost value is with in the Target spend value</span></span>
      <span class="Supplier" *ngIf="target<sum" style="color:red">: {{savingorexcessamount| currency:'INR'}} <span style="color:red;padding:35px">Total purchase cost value is exceeding the Target spend value</span></span>

    </div>
  </div>
  <div class="row">
    <div class="settings" *ngIf="pasubmitted" style="grid-gap:10px;display:grid;grid-template-columns:max-content max-content">
      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Target Spend</label>
      <span class="Supplier">: {{target | currency:'INR'}}</span>

      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Sales Cost For The Job</label>
      <span class="Supplier">:</span>

      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Purchase Cost For This Item</label>
      <span class="Supplier">: {{sum | currency:'INR'}}</span>

      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Project Cost For The Job</label>
      <span class="Supplier">: {{purchasedetails.SupplierReference}}</span>

      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Excess/Saving From Project Budget</label>
      <!--<span class="Supplier">: {{target-sum | currency:'INR'}}</span>-->
      <span class="Supplier" *ngIf="target>=sum" style="color:green">: {{savingorexcessamount| currency:'INR'}} <span style="color:green;padding:35px">Total purchase cost value is with in the Target spend value</span></span>
      <span class="Supplier" *ngIf="target<sum" style="color:red">: {{savingorexcessamount| currency:'INR'}} <span style="color:red;padding:35px">Total purchase cost value is exceeding the Target spend value</span></span>
    </div>
  </div>
  <div class="row">
    <div class="settings" *ngIf="paincompleted" style="grid-gap:10px;display:grid;grid-template-columns:max-content max-content">
      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Target Spend</label>
      <span class="Supplier">: {{target | currency:'INR'}}</span>

      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Sales Cost For The Job</label>
      <span class="Supplier">:</span>

      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Purchase Cost For This Item</label>
      <span class="Supplier">: {{sum | currency:'INR'}}</span>

      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Project Cost For The Job</label>
      <span class="Supplier">: {{purchasedetails.SupplierReference}}</span>

      <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Excess/Saving From Project Budget</label>
      <!--<span class="Supplier">: {{target-sum | currency:'INR'}}</span>-->
      <span class="Supplier" *ngIf="target>=sum" style="color:green">: {{savingorexcessamount| currency:'INR'}} <span style="color:green;padding:35px">Total purchase cost value is with in the Target spend value</span></span>
      <span class="Supplier" *ngIf="target<sum" style="color:red">: {{savingorexcessamount| currency:'INR'}} <span style="color:red;padding:35px">Total purchase cost value is exceeding the Target spend value</span></span>
    </div>
  </div>
</div>

<br />
<div class="form-control" style="width:100%;height:100%">
  <div *ngIf="!pasubmitted" class="row head-text pl-0" style="margin-left:0px;margin-top:20px;width:inherit">
    <div class="col-md-6 pt-2">Item Details</div>
    <div class="col-md-3 pt-2">
      <a [routerLink]="['/SCM/PADetails']" routerLinkActive="active">Add Items</a>
    </div>
  </div>
  <div *ngIf="!pasubmitted && !paincompleted" class="row form-control" style="height:100%;border-radius:0px; margin-left:0px;">
    <p-table [value]="selectedItems" [paginator]="true" [rows]="10" [resizableColumns]="true" p columnResizeMode="expand">
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 5em">Sl No</th>
          <th style="width:7em">Department</th>
          <th>Vendor Name</th>
          <th>Item Description</th>
          <th style="width:6em">Quantity</th>
          <th style="width:6em">Price</th>
          <th style="width:6em">Total Price</th>
          <th>Target Spend</th>
          <th>SaleOrder</th>
          <th>Payment Term</th>
          <th>MPR NO</th>
          <th>HSNCode</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-editing="editing" let-ri="rowIndex">
        <tr>
          <td class="ptable-cell">{{ri+1}}</td>
          <td class="ptable-cell">{{rowData.Department}}</td>
          <td class="ptable-cell">{{rowData.VendorName}}</td>
          <td class="ptable-cell">{{rowData.ItemDescription}}</td>
          <td class="ptable-cell">{{rowData.QuotationQty}}</td>
          <td class="ptable-cell">{{rowData.UnitPrice}}</td>
          <td class="ptable-cell">{{rowData.itemsum}}</td>
          <td class="ptable-cell">{{rowData.TargetSpend}}</td>
          <td class="ptable-cell">{{rowData.SaleOrderNo}}</td>
          <td class="ptable-cell">{{rowData.PaymentTermCode}}</td>
          <td class="ptable-cell">{{rowData.DocumentNo}}</td>
          <td class="ptable-cell">{{rowData.HSNCode}}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="footer">
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td>{{sum}}</td>
          <td>{{target}}</td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </ng-template>

    </p-table><br />
  </div><br />
  <div *ngIf="paincompleted" class="row form-control" style="height:100%;border-radius:0px; margin-left:0px;">
    <p-table [value]="purchasedetails.Item" [paginator]="true" [rows]="10" [resizableColumns]="true" p columnResizeMode="expand">
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 5em">No</th>
          <th style="width:7em">Department</th>
          <th>Vendor Name</th>
          <th>Item Description</th>
          <th style="width:6em">Quantity</th>
          <th style="width:6em">Price</th>
          <th style="width:6em">Total Price</th>
          <th>Target Spend</th>
          <th>SaleOrder</th>
          <th>Payment Term</th>
          <th>MPR NO</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-editing="editing" let-ri="rowIndex">
        <tr>
          <td class="ptable-cell">{{ri+1}}</td>
          <td class="ptable-cell">{{rowData.Department}}</td>
          <td class="ptable-cell">{{rowData.VendorName}}</td>
          <td class="ptable-cell">{{rowData.ItemDescription}}</td>
          <td class="ptable-cell">{{rowData.QuotationQty}}</td>
          <td class="ptable-cell">{{rowData.UnitPrice}}</td>
          <td class="ptable-cell">{{rowData.itemsum}}</td>
          <td class="ptable-cell">{{rowData.TargetSpend}}</td>
          <td class="ptable-cell">{{rowData.SaleOrderNo}}</td>
          <td class="ptable-cell">{{rowData.PaymentTermCode}}</td>
          <td class="ptable-cell">{{rowData.DocumentNo}}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="footer">
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td>{{sum}}</td>
          <td>{{target}}</td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </ng-template>

    </p-table><br />
  </div>
  <div *ngIf="pasubmitted" class="form-control" style="height:100%;border-radius:0px; margin-left:0px; margin-top:7px">
    <p-table #dt [value]="purchasedetails.Item" [globalFilterFields]="['PONO']" [responsive]="true" [paginator]="true" [autoLayout]="true" [rows]="10" editMode="row" columnResizeMode="expand" [style]="{'width':'100%','overflow':'auto!important'}">
      <ng-template pTemplate="header" let-rowData let-editing="editing">
        <tr>
          <th colspan="12" class="text-right">
            <input type="text" pInputText size="35" placeholder="Search by PONO" (input)="dt.filterGlobal($event.target.value, 'contains')" style="width:auto !important">&nbsp;
          </th>
        </tr>
        <tr>
          <th>Sl No</th>
          <th class="ptable-cell">ItemDescription</th>
          <th>Qty</th>
          <th>Price</th>
          <th>Target Spend</th>
          <th>Total Price</th>
          <th [pEditableRow]="rowData"><button pButton type="button" pInitEditableRow icon="pi pi-pencil" class="ui-button-info" (click)="AddPaitem(purchasedetails.Item)"></button></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-editing="editing" let-ri="rowIndex">
        <tr [pEditableRow]="rowData">
          <td>{{ri+1}}</td>
          <td class="ptable-cell">
            {{rowData.ItemDescription}}&nbsp;&nbsp;
            <div>
              <div class="row" style="margin-left:3px;margin-right:2px;margin-top:15px">
                <label style="width:200px">Mprno:<span><a [routerLink]="['/SCM/MPRForm',rowData.MPRRevisionId]" target="_blank" routerLinkActive="active">{{rowData.DocumentNo}}</a></span></label> &nbsp;&nbsp;
                <label style="width:200px">Rfqno:<span><a [routerLink]="['/SCM/VendorQuoteView',rowData.RFQRevisionId]" target="_blank" routerLinkActive="active">{{rowData.RFQNo}}</a></span></label>
              </div>
              <div class="row" style="margin-left:3px;margin-right:2px">
                <label style="width:200px">PONo:<span>{{rowData.PONO}}</span></label> &nbsp;&nbsp;
                <label style="width:200px">POItemNo:<span>{{rowData.POItemNo}}</span></label>
              </div>
              <div class="row" style="margin-left:3px;margin-right:2px">
                <label style="width:200px">PODate:<span>{{rowData.PODate}}</span></label> &nbsp;&nbsp;
                <label style="width:200px">Remarks:<span>{{rowData.Remarks}}</span></label>
              </div>
              <div class="row" style="margin-left:3px;margin-right:2px">
                <label style="width:200px">HSNCode:<span>{{rowData.HSNCode}}</span></label>
              </div>
            </div>
          </td>
          <td>{{rowData.QuotationQty}}</td>
          <td>{{rowData.UnitPrice}}</td>
          <td>{{rowData.TargetSpend}}</td>
          <td>{{rowData.itemsum}}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="footer">
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td>{{target}}</td>
          <td>{{sum}}</td>
        </tr>
      </ng-template>
    </p-table>
  </div><br />

</div>
<br />


<div class="row head-text pl-0" style="margin-left:0px;width:100%">
  <div class="col-md-6 pt-2"> Vendors:</div>
</div>
<div class="form-control" *ngIf="!pasubmitted && !paincompleted" style="height:100%">
  <div style="height:100%;width:100%;margin-left:2px">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>
            Considered vendors
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let ven of vendor">
          <td>{{ven.VendorName}}</td>
        </tr>
      </tbody>
    </table>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Selected vendors</th>
          <th>Payment Termcode</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="color:#0095ff">{{vendorname}}</td>
          <td>{{paymentterm}}</td>
        </tr>
      </tbody>
    </table>
    <div class="row col-md-6 col-lg-6 col-sm-6">
      <label style="width:200px">RfqComparison:<span ><a [routerLink]="['/SCM/RFQComparision',mprrevisionid]" target="_blank" routerLinkActive="active">{{purchasedetails.mprno}}</a></span></label> &nbsp;&nbsp;
    </div>
  </div>
</div>
<div *ngIf="pasubmitted" class="form-control" style="height:100%">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>
          Considered vendors
        </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td *ngFor="let ven of vendor">{{ven.VendorName}}</td>
      </tr>
    </tbody>
  </table>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Selected vendors</th>
        <th>Payment Termcode</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="color:#0095ff">{{selectedvendor}}</td>
        <td>{{finalpaymentterm}}</td>
      </tr>   
    </tbody>
  </table>
  <div class="row col-md-6 col-lg-6 col-sm-6">
    RfqComparison:<label style="width:200px" *ngFor="let item of purchasedetails.Item;let i=index"><span *ngIf="i < 1"><a [routerLink]="['/SCM/RFQComparision',item.MPRRevisionId]" target="_blank" routerLinkActive="active">{{item.DocumentNo}}</a></span></label> &nbsp;&nbsp;
  </div>
</div>
<div *ngIf="paincompleted" class="form-control" style="height:100%">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>
          Considered vendors
        </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td *ngFor="let ven of vendor">{{ven.VendorName}}</td>
      </tr>
    </tbody>
  </table>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Selected vendors</th>
        <th>Payment Termcode</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="color:#0095ff">{{selectedvendor}}</td>
        <td>{{finalpaymentterm}}</td>
      </tr>
    </tbody>
  </table>
  <div class="row col-md-6 col-lg-6 col-sm-6">
    <label style="width:200px">RfqComparison:<span *ngFor="let item of purchasedetails.Item"><a [routerLink]="['/SCM/RFQComparision',item.MPRRevisionId]" target="_blank" routerLinkActive="active">{{item.DocumentNo}}</a></span></label> &nbsp;&nbsp;
  </div>
</div>
<br />
<div class="row head-text pl-0" style="margin-left:0px;width:100%">
  <div class="col-md-6 pt-2"> RfqTerms:</div>
</div>
<div class="form-control" style="height:100%;width:100%">
  <div *ngIf="!pasubmitted && !paincompleted" class="row" style="height:100%;border-radius:0px; margin-left:0px; margin-top:7px;overflow-x:scroll">
    <div *ngIf="rfqterms.length>0" class="col-lg-8 col-md-8 col-sm-8">
      <p-table #dt [columns]="cols" [value]="rfqterms">
        <ng-template pTemplate="header" let-columns>
          <tr>
            <th *ngFor="let col of columns">
              {{col.header}}
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns">
          <tr>
            <td *ngFor="let col of columns">
              {{rowData[col.field]}}
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>

  </div>
  <div *ngIf="pasubmitted" class="row" style="height:100%;border-radius:0px; margin-left:0px; margin-top:7px">
    <div *ngIf="rfqterms.length>0" class="col-lg-8 col-md-8 col-sm-8">
      <p-table #dt [columns]="cols" [value]="rfqterms">
        <ng-template pTemplate="header" let-columns>
          <tr>
            <th *ngFor="let col of columns">
              {{col.header}}
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns">
          <tr>
            <td *ngFor="let col of columns">
              {{rowData[col.field]}}
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
  <div *ngIf="paincompleted" class="row" style="height:100%;border-radius:0px; margin-left:0px; margin-top:7px">
    <div *ngIf="rfqterms.length>0" class="col-lg-8 col-md-8 col-sm-8">
      <p-table #dt [columns]="cols" [value]="rfqterms">
        <ng-template pTemplate="header" let-columns>
          <tr>
            <th *ngFor="let col of columns">
              {{col.header}}
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns">
          <tr>
            <td *ngFor="let col of columns">
              {{rowData[col.field]}}
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div><br />
<div *ngIf="showemployee && !pasubmitted" class="row head-text pl-0" style="margin-left:0px;margin-top:20px;width:100%">
  <div class="col-md-6 pt-2">Approvers:</div>
</div>
<div *ngIf="showemployee && !pasubmitted && !paincompleted" class="form-control" style="height:100%;width:100%;position:relative">
  <div class="row inline">
    <div class="col-md-6 col-lg-6 col-sm-6" style="display:inline;margin-left:14px">
      <label for="ProjectName" class="form-label" style="margin-left: 0px;">Credit Days:</label>
      <input type="text" [(ngModel)]="purchasedetails.CreditDays" class="form-control" (input)="onSearchChange($event.target.value)" style="margin-left: 0px;width:50%" />
      <!--<button type="submit" class="btn btn-primary" (click)="addInput(purchasedetails.CreditDays)"><i class="fa fa-search"></i></button>-->
    </div>
  </div>
  <div *ngIf="showemployee && !pasubmitted && !paincompleted " style="height:100%;border-radius:0px; margin-left:0px; margin-top:7px">
    <div *ngIf="employeelist" class="col-lg-8 col-md-8 col-sm-8">
      <table class="table table-bordered">
        <ngx-spinner bdOpacity=0.9
                     bdColor="#f4f4f9"
                     size="medium"
                     color="#1010ee"
                     type="ball-clip-rotate"
                     [fullScreen]="false">
        </ngx-spinner>
        <thead>
          <tr>
            <th><span style="float:left">ApproverName </span> </th>
            <th><span style="float:left">Role </span></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let app of employeelist">
            <td>{{app.Approvername}}</td>
            <td>{{app.rolename}}</td>
          </tr>
        </tbody>

      </table>

    </div>
  </div>
  <div *ngIf="showemployee  && paincompleted && !pasubmitted" style="height:100%;border-radius:0px; margin-left:0px; margin-top:7px">
    <div *ngIf="employeelist" class="col-lg-8 col-md-8 col-sm-8">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th><span style="float:left">ApproverName </span> </th>
            <th><span style="float:left">Role </span></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let app of employeelist">
            <td>{{app.Approvername}}</td>
            <td>{{app.rolename}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
<div class="row head-text pl-0" style="margin-left:0px;margin-top:20px;width:100%">
  <div class="col-md-6 pt-2">Terms and Conditions:</div>
</div>
<div class="form-control" *ngIf="!pasubmitted && !paincompleted" style="height:100%;width:100%">
  <div class="row">
    <div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Packing And Forwarding:</label>
        <input type="text" [(ngModel)]="purchasedetails.PackagingForwarding" class="form-control" style="width: 60%;margin-left: 12px;" />
      </div>
    </div>
    <div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectCode" class="form-label label" style="margin-left: 12px;">Taxes:</label>&nbsp;&nbsp;
        <input type="text" style="margin-left:12px;width: 60%;" [(ngModel)]="purchasedetails.Taxes" class="form-control" />
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Freight:</label>
        <input type="text" style="margin-left:12px;width:60%" [(ngModel)]="purchasedetails.Freight" class="form-control" />
      </div>
    </div>
    <div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectCode" class="form-label label" style="margin-left: 12px;">Insurance:</label>
        <input type="text" style="margin-left:12px;width:60%" [(ngModel)]="purchasedetails.Insurance" class="form-control" />
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Delivery Condition:</label>
        <input type="text" [(ngModel)]="purchasedetails.DeliveryCondition" class="form-control" style="margin-left:12px;width:60%" />
      </div>
    </div>
    <!--<div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Credit Days:</label>
        <input type="text" [(ngModel)]="purchasedetails.CreditDays" class="form-control" (keyup.enter)="addInput($event)" style="margin-left: 12px;width:60%" />
      </div>
    </div>-->
  </div>
  <div class="row">
    <div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Mode of Shipment:</label>
        <input type="text" [(ngModel)]="purchasedetails.ShipmentMode" class="form-control" style="margin-left:12px;width:60%" />
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Payment Terms:</label>
        <textarea [(ngModel)]="purchasedetails.PaymentTerms" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div>
        <label for="warranty" class="form-label label" style="margin-left: 12px;">Warranty:</label>
        <textarea [(ngModel)]="purchasedetails.Warranty" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div *ngIf="!pasubmitted">
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">BankGuarantee:</label>
        <textarea [(ngModel)]="purchasedetails.BankGuarantee" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div>
        <label for="ProjectName" class="form-label label label" style="margin-left: 12px;">LDPenaltyTerms:</label>
        <textarea [(ngModel)]="purchasedetails.LDPenaltyTerms" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div *ngIf="!pasubmitted">
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">SpecialInstructions:</label>
        <textarea [(ngModel)]="purchasedetails.SpecialInstructions" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">FactorsForImports:</label>
        <textarea [(ngModel)]="purchasedetails.FactorsForImports" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div>
        <label for="SpecialRemarks" class="form-label label" style="margin-left: 12px;">SpecialRemarks:</label>
        <textarea [(ngModel)]="purchasedetails.SpecialRemarks" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
</div>
<div class="form-control" *ngIf="paincompleted" style="height:100%;width:100%">
  <div class="row">
    <div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Packing And Forwarding:</label>
        <input type="text" [(ngModel)]="purchasedetails.PackagingForwarding" class="form-control" style="width: 60%;margin-left: 12px;" />
      </div>
    </div>
    <div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectCode" class="form-label label" style="margin-left: 12px;">Taxes:</label>&nbsp;&nbsp;
        <input type="text" style="margin-left:12px;width: 60%;" [(ngModel)]="purchasedetails.Taxes" class="form-control" />
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Freight:</label>
        <input type="text" style="margin-left:12px;width:60%" [(ngModel)]="purchasedetails.Freight" class="form-control" />
      </div>
    </div>
    <div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectCode" class="form-label label" style="margin-left: 12px;">Insurance:</label>
        <input type="text" style="margin-left:12px;width:60%" [(ngModel)]="purchasedetails.Insurance" class="form-control" />
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Delivery Condition:</label>
        <input type="text" [(ngModel)]="purchasedetails.DeliveryCondition" class="form-control" style="margin-left:12px;width:60%" />
      </div>
    </div>
    <!--<div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Credit Days:</label>
        <input type="text" [(ngModel)]="purchasedetails.CreditDays" class="form-control" (keyup.enter)="addInput($event)" style="margin-left: 12px;width:60%" />
      </div>
    </div>-->
  </div>
  <div class="row">
    <div class="col-md-6 col-lg-6 col-sm-6 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Mode of Shipment:</label>
        <input type="text" [(ngModel)]="purchasedetails.ShipmentMode" class="form-control" style="margin-left:12px;width:60%" />
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">Payment Terms:</label>
        <textarea [(ngModel)]="purchasedetails.PaymentTerms" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div>
        <label for="warranty" class="form-label label" style="margin-left: 12px;">Warranty:</label>
        <textarea [(ngModel)]="purchasedetails.Warranty" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div *ngIf="!pasubmitted">
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">BankGuarantee:</label>
        <textarea [(ngModel)]="purchasedetails.BankGuarantee" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div>
        <label for="ProjectName" class="form-label label label" style="margin-left: 12px;">LDPenaltyTerms:</label>
        <textarea [(ngModel)]="purchasedetails.LDPenaltyTerms" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div *ngIf="!pasubmitted">
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">SpecialInstructions:</label>
        <textarea [(ngModel)]="purchasedetails.SpecialInstructions" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div>
        <label for="ProjectName" class="form-label label" style="margin-left: 12px;">FactorsForImports:</label>
        <textarea [(ngModel)]="purchasedetails.FactorsForImports" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-10 col-sm-10 col-md-10 col-xs-10 form-group">
      <div>
        <label for="SpecialRemarks" class="form-label label" style="margin-left: 12px;">SpecialRemarks:</label>
        <textarea [(ngModel)]="purchasedetails.SpecialRemarks" class="form-control" style="margin-left: 12px;"></textarea>
      </div>
    </div>
  </div>
</div>
<div class="form-control" *ngIf="pasubmitted" style="height:100%;width:100%">
  <table class="table table-responsive p-0 m-0">
    <tr>
      <th>Packing And Forwarding</th>
      <td>: {{purchasedetails.PackagingForwarding}}</td>
    </tr>
    <tr>
      <th>Taxes</th>
      <td>: {{purchasedetails.Taxes}}</td>
    </tr>
    <tr>
      <th>Freight</th>
      <td>: {{purchasedetails.Freight}}</td>
    </tr>
    <tr>
      <th>Insurance</th>
      <td>: {{purchasedetails.Insurance}}</td>
    </tr>
    <tr>
      <th>Delivery Conditions</th>
      <td>: {{purchasedetails.DeliveryCondition}}</td>
    </tr>
    <tr>
      <th>Credit Days</th>
      <td>: {{purchasedetails.CreditDays}}</td>
    </tr>
    <tr>
      <th>Shipment Mode</th>
      <td>: {{purchasedetails.ShipmentMode}}</td>
    </tr>
    <tr>
      <th>Payment Terms</th>
      <td>: {{purchasedetails.PaymentTerms}} </td>
    </tr>
    <tr>
      <th>Warranty</th>
      <td>: {{purchasedetails.Warranty}}</td>
    </tr>
    <tr>
      <th>Bank Guarantee</th>
      <td>: {{purchasedetails.BankGuarantee}}</td>
    </tr>
    <tr>
      <th>LDPenalty Terms</th>
      <td>: {{purchasedetails.LDPenaltyTerms}}</td>
    </tr>
    <tr>
      <th>Special Instructions</th>
      <td>: {{purchasedetails.SpecialInstructions}}</td>
    </tr>
    <tr>
      <th>FactorsForImports</th>
      <td>: {{purchasedetails.FactorsForImports}}</td>
    </tr>
    <tr>
      <th>Special Remarks</th>
      <td>: {{purchasedetails.SpecialRemarks}}</td>
    </tr>
  </table>
</div>
<br />

<div *ngIf="!pasubmitted && proceedvalue && !paincompleted" style="margin-top:10px;text-align:center">
  <button type="button" class="btn btn-success" label="Save" (click)="InsertPurchaseAuthorization(purchasedetails)" onclick="this.disabled=true">Proceed</button>
</div>

<div *ngIf="paincompleted && updatevalue" style="margin-top:10px;text-align:center">
  <button type="button" class="btn btn-success" label="Save" (click)="UpdatePurchaseAuthorization(purchasedetails)" onclick="this.disabled=true">Update</button>
</div>

<div *ngIf="uploaddocuments" class="form-control" style="height:100%;width:100%;">
  <label class="form-label"><b> Upload Documents :</b></label>
  <div class="row" style="width:100%;height:100%;margin-left:2px">
    <div class="form-group">
      <input type="file" id="file" multiple (change)="getFileDetails($event)" style="margin-left: 0px;" placeholder="Upload file" accept=".msg,.pdf,.doc,.docx,.xlsx,.xls">&nbsp;&nbsp;

      <!--<button (click)="uploadFiles()">Upload</button>-->
      <div *ngFor="let selected of myFiles;let index = index">
        <span>{{selected.name}}</span> <i class="fa fa-remove" aria-hidden="true" (click)="removeSelectedFile(index)"></i>
        <!--<button mat-icon-button (click)="removeSelectedFile(index)">delete</button>-->
        <br />
      </div>
      <div class="" style="margin-top:10px">
        <button (click)="uploadFiles()">Upload</button>
      </div>
    </div>
  </div>
</div>
<!--<div *ngIf="pasubmitted" class="form-control" style="height:100%;width:100%;">
  <label class="form-label"><b> Upload Documents :</b></label>
  <div class="row" style="width:100%;height:100%;margin-left:2px">

    <div class="form-group">
      <input type="file" id="file1" multiple (change)="getFileuploadDetails($event)" style="margin-left: 0px;" placeholder="Upload file" accept=".msg,.pdf,.doc,.docx,.xlsx,.xls">&nbsp;&nbsp;

     
      <div *ngFor="let selected of myfiles1;let index = index" style="margin-top:10px">
        <span>{{selected.name}}</span> <i class="fa fa-remove" aria-hidden="true" (click)="removeSelecteduploadFile(index)"></i>
      </div>&nbsp;&nbsp;
      <div class="" style="margin-top:5px">
        <button (click)="uploadapprovedFiles()">Upload</button>
      </div>

    </div>
  </div>
</div>-->
<div *ngIf="uploaddocuments" style="margin-top:10px;text-align:center">
  <button type="button" class="btn btn-success" label="Save" (click)="finalpa(purchasedetails)" onclick="this.disabled=true">Submit</button>
</div>
<div class="form-control" *ngIf="pasubmitted && purchasedetails.documents.length" style="height:100%;width:100%">
  <label class="form-label"><b> Documents Attached :</b></label>
  <div *ngFor="let document of purchasedetails.documents" class="col-lg-10 col-md-10 col-sm-10">
    <!--<a (click)="viewPADocument(document.path,document.filename)">{{document.filename}}</a>-->
    <button (click)="viewPADocument(document.path,document.filename)" class="btn btn-link">{{document.filename}}</button>
    <!--<i class="fa fa-paperclip" aria-hidden="true" (click)="viewPADocument(document.path,document.filename)" pTooltip="File Name: {{document.filename}}"></i>&nbsp;
    <span><a> {{document.filename}} </a></span>&nbsp;&nbsp;-->
  </div>
</div>
<div *ngIf="pasubmitted" class="form-control" style="height:100%;width:100%;margin-top:7px">
  <table class="table table-bordered" style="background-color:#8cb55d">
    <thead>
      <tr>
        <th>PArequestedBy</th>
        <th>PArequestedon</th>
        <th>PAStatus</th>
        <th>PAStatusUpdate</th>
      </tr>
    </thead>
    <tbody *ngFor="let app of purchasedetails.request">
      <tr>
        <td>{{app.parequested}}</td>
        <td>{{app.RequestedOn | date}}</td>
        <td>{{app.PAStatus}}</td>
        <td>{{app.PAStatusUpdate | date}}</td>
      </tr>
    </tbody>

  </table>
</div>
<div *ngIf="pasubmitted && purchasedetails.Deleteflag" class="form-control" style="height:100%;width:100%;margin-top:7px">
  <table class="table table-bordered" style="background-color:lightcoral">
    <thead>
      <tr>
        <th>PArequestedBy</th>
        <th>PADeletedBy</th>
        <th>PADeletedOn</th>
        <th>Remarks</th>
      </tr>
    </thead>
    <tbody *ngFor="let app of purchasedetails.request">
      <tr>
        <td>{{app.parequested}}</td>
        <td>{{app.padeleted}}</td>
        <td>{{app.DeleteOn | date}}</td>
        <td>{{app.Remarks}}</td>
      </tr>
    </tbody>

  </table>
</div>
<div *ngIf="pasubmitted && purchasedetails.PAStatus=='Rejected'" class="form-control" style="height:100%;width:100%;margin-top:7px">
  <table class="table table-bordered" style="background-color:lightcoral">
    <thead>
      <tr>
        <th>PArequestedBy</th>
        <th>PARejectedBy</th>
        <th>PArejectedOn</th>
      </tr>
    </thead>
    <tbody *ngFor="let app of purchasedetails.ApproversList">
      <tr *ngIf="app.ApprovalStatus=='Rejected'">
        <td>{{app.parequested}}</td>
        <td>{{app.ApproverName}}</td>
        <td>{{app.ApprovedOn | date}}</td>
      </tr>
    </tbody>

  </table>
</div>
<div *ngIf="pasubmitted && finalpasubmit" class="row form-control" style="height:100%;border-radius:0px; margin-left:0px; margin-top:7px">
  <p-table [value]="purchasedetails.ApproversList" [paginator]="false" [rows]="10" [resizableColumns]="true" p columnResizeMode="expand">
    <ng-template pTemplate="header">
      <tr>
        <th style="width: 5em">Sl No</th>
        <th>Approver</th>
        <th>Status</th>
        <th>Remarks</th>
        <th>Status Date</th>
        <th>Remainder Mail</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-editing="editing" let-ri="rowIndex">
      <tr>
        <td class="text-center">{{ri+1}}</td>
        <td>{{rowData.ApproverName}}  -   ({{rowData.RoleName}})</td>
        <td>{{rowData.ApprovalStatus}}</td>
        <td>{{rowData.ApproversRemarks}}</td>
        <td>{{rowData.ApprovedOn | date: 'dd/MM/yyyy hh:mm a'}}</td>
        <td><button type="button" *ngIf="rowData.ApprovalStatus != 'Approved' && purchasedetails.PAStatus!='Rejected' && !purchasedetails.Deleteflag" class="btn btn-success" label="Save" (click)="RequestForApproval(rowData)" onclick="this.disabled=true">Send</button></td>
      </tr>
    </ng-template>
  </p-table>
</div>
<br />

<div *ngIf="pasubmitted && approvedemployee && purchasedetails.PAStatus!='Rejected' && !purchasedetails.Deleteflag" class="form-control footer" style="height:100%;border-radius:0px;position: -webkit-sticky; position:sticky;background-color:gainsboro; margin-left:0px;margin-top:5px">

  <div class="row col-md-12" style="margin-bottom:10px;border:groove;margin-left:2px;margin-top:5px">
    <label for="Supplier" class="form-label label" style="margin-left: 15px;text-align:left">Excess/Saving From Project Budget</label>
    <span class="Supplier" *ngIf="target>=sum" style="color:green">: {{savingorexcessamount| currency:'INR'}} <span style="color:green;padding:35px">Total purchase cost value is with in the Target spend value</span></span>
    <span class="Supplier" *ngIf="target<sum" style="color:red">: {{savingorexcessamount| currency:'INR'}} <span style="color:red;padding:35px">Total purchase cost value is exceeding the Target spend value</span></span>
  </div>
  <div class="form-inline pt-2">
    <div class="col-lg-3 col-md-3 col-sm-3 form-inline ">
      &nbsp;&nbsp;
      <label class="form-label">Status:</label>&nbsp;
      <select [(ngModel)]="PAApprovers.ApprovalStatus" class="form-control dropdown">
        <option value="Submitted">Submitted</option>
        <option value="Rejected">Rejected</option>
        <option value="Approved">Approved</option>
      </select>&nbsp;
    </div>
    <div class="col-lg-3 col-md-3 col-sm-3 form-inline">
      <label class="form-label">Remarks:</label>&nbsp;
      <textarea type="text" class="form-control" [(ngModel)]="PAApprovers.ApproversRemarks"></textarea>
    </div>
    <div class="col-lg-3 col-md-3 col-sm-3 form-inline">
      <button type="button" *ngIf="pasubmitted && approvedemployee" [disabled]="disableApprovers" class="btn btn-success" (click)="Approvepa(PAApprovers)" label="Save" onclick="this.disabled=true">Submit</button>
    </div>
  </div>
</div>

<p-dialog header="Add" [(visible)]="EditDialog" showEffect="fade" [modal]="true" [style]="{width: '1000px'}" [closable]="false">
  <form [formGroup]="PAsubmitForm">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>ITEM</th>
          <th>MPRNO</th>
          <th>PONO :<input type="checkbox" [checked]="false" (change)="updateAddrs($event,paitem)" /></th>
          <th>POITEMNO</th>
          <th>PODATE</th>
          <th>POREMARKS</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let items of paitem">
          <td>{{items.ItemDescription}}</td>
          <td>{{items.DocumentNo}}</td>
          <td><input (keypress)="numberOnly($event)" id="txtcopy1" formControlName="PONO" type="text" [(ngModel)]="items.PONO" maxlength="10" numberOnly class="form-control" /></td>
          <td><input type="text" formControlName="POItemNo" [(ngModel)]="items.POItemNo" maxlength="6" class="form-control" numberOnly /></td>
          <td><input formControlName="PODate" type="date" [(ngModel)]="items.PODate" class="form-control" /></td>
          <td><input formControlName="Remarks" type="text" [(ngModel)]="items.Remarks" class="form-control" /></td>
        </tr>
      </tbody>
    </table>
    <p-footer>
      <div class="ui-dialog-buttonpane ui-helper-clearfix">
        <button type="submit" pButton icon="fa fa-check" class="ui-button-success" [disabled]="!PAsubmitForm.valid" (click)="SubmitItem(paitem)" label="Insert"></button>&nbsp;&nbsp;
        <button type="button" pButton icon="fa fa-close" class="ui-button-danger" (click)="Cancel()" label="Cancel"></button>
      </div>
    </p-footer>
  </form>
</p-dialog>


<!--<p-dialog header="Item Details :" [(visible)]="displayItemDialog" [responsive]="true" showEffect="fade" [modal]="true" [style]="{width: '1000px',height:'1000px'}">
  <div class="row form-control" style="height:100%;border-radius:0px;padding:30px;margin-left:0px;">
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label for="docNo" class="form-label">MPR Number:</label> &nbsp;
      <input class="form-control" type="text" [(ngModel)]="padetails.DocumentNumber">
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label for="SaleOrderNo" class="form-label">MPR RevisionID:</label> &nbsp;
      <input class="form-control" [(ngModel)]="padetails.RevisionID">
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label class="form-label">RfqNo:</label> &nbsp;
      <input class="form-control" [(ngModel)]="padetails.RFQNo">
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label class="form-label">SaleOrderNumber:</label>&nbsp;
      <input class="form-control" [(ngModel)]="padetails.SaleOrderNo">
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label class="form-label">Department:</label>&nbsp;
      <div class="form-inline-list">
        <input type="text" [(ngModel)]="padetails.DepartmentName" class="form-control" [ngClass]="{ 'is-invalid':Departmentsubmittted && !padetails.DepartmentName }" (keyup)="bindSearchListData($event,'','DepartmentId',padetails.DepartmentName,undefined)">
        <span class="input-group-append">
          <button type="button" class="btn btn-outline-secondary form-control" style="cursor:pointer" pButton icon="fa fa-list" aria-hidden="true" (click)="bindSearchListData($event,'','DepartmentId','',undefined)"></button>
        </span>
        <span *ngIf="Departmentsubmittted && !padetails.DepartmentName" class="invalid-feedback">Select Department.</span>
      </div>
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label class="form-label">VendorName:</label>&nbsp;
      <div class="form-inline-list">
        <input type="text" [(ngModel)]="vendorDetails.VendorName" class="form-control" [ngClass]="{ 'is-invalid':vendorSubmitted && !vendorDetails.VendorName }" (keyup)="bindSearchListData($event,'','venderid',vendorDetails.VendorName,undefined)">
        <span class="input-group-append">
          <button type="button" class="btn btn-outline-secondary form-control" style="cursor:pointer" pButton icon="fa fa-list" aria-hidden="true" (click)="bindSearchListData($event,'','venderid','',undefined)"></button>
        </span>
        <span *ngIf="vendorSubmitted && !vendorDetails.VendorName" class="invalid-feedback">Select Vendor.</span>
      </div>
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2 form-inline">
      <label class="form-label">BuyerGroup:</label>&nbsp;
      <div class="form-inline-list">
        <input type="text" [(ngModel)]="buyergroups.BuyerGroup" class="form-control" [ngClass]="{ 'is-invalid':MPRForm1Submitted && !buyergroups.BuyerGroup }" (keyup)="bindSearchListData($event,'','BuyerGroupId',buyergroups.BuyerGroup,undefined)">
        <span class="input-group-append">
          <button type="button" class="btn btn-outline-secondary form-control" style="cursor:pointer" pButton icon="fa fa-list" aria-hidden="true" (click)="bindSearchListData($event,'','BuyerGroupId','',undefined)"></button>
        </span>
        <span *ngIf="MPRForm1Submitted && !buyergroups.BuyerGroup" class="invalid-feedback">Select BuyerGroup.</span>
      </div>
    </div>
  </div>
</p-dialog>-->
<!--<p-dialog #dialog header="List View :" [(visible)]="showemployee" [contentStyle]="{'overflow':'visible'}">
  <div class="row form-inline">
    <label class="form-label" *ngFor="let List of employee">Assigned Employee:&nbsp;{{List.Name}}</label>
  </div>
</p-dialog>-->
